{"ast":null,"code":"import axios from 'axios';\nimport api from './ApiService';\nconst API_URL = 'http://localhost:8080/api/auth';\nclass AuthService {\n  async login(username, password) {\n    try {\n      console.log(\"Attempting login for user: \", username);\n      const response = await axios.post(`${API_URL}/login`, {\n        username,\n        password\n      });\n      if (response.data && response.data.token) {\n        console.log(' Login successful, token received');\n        localStorage.setItem('token', response.data.token);\n        console.log(\"Token saved\");\n      } else {\n        console.log(\"no Token in response\", response.data);\n      }\n      return response.data;\n    } catch (error) {\n      console.error(\"No token in login respo\");\n    }\n  }\n  async register(userData) {\n    console.log(\"Sending registration data:\", userData);\n    try {\n      const response = await axios.post(`${API_URL}/register`, userData);\n      console.log(\"Registration response:\", response.data);\n      return response.data;\n    } catch (error) {\n      console.error(\"Registration error\", error);\n      throw error;\n    }\n  }\n  async getCurrentUser() {\n    const response = await axios.get(`${API_URL}/me`);\n    return response.data;\n  }\n  getToken() {\n    return localStorage.getItem('token');\n  }\n  logout() {\n    localStorage.removeItem('token');\n  }\n}\nexport default new AuthService();","map":{"version":3,"names":["axios","api","API_URL","AuthService","login","username","password","console","log","response","post","data","token","localStorage","setItem","error","register","userData","getCurrentUser","get","getToken","getItem","logout","removeItem"],"sources":["E:/Official/University/Content Analytics v4/Content-Analytics-System/frontend/src/services/AuthService.jsx"],"sourcesContent":["import axios from 'axios';\r\nimport api from './ApiService';\r\n\r\nconst API_URL = 'http://localhost:8080/api/auth';\r\n\r\nclass AuthService {\r\n    async login(username, password) {\r\n        try {\r\n            console.log(\"Attempting login for user: \", username);\r\n            const response = await axios.post(`${API_URL}/login`, {username, password});\r\n\r\n            if (response.data && response.data.token) {\r\n                console.log(' Login successful, token received');\r\n                localStorage.setItem('token', response.data.token);\r\n                console.log(\"Token saved\")\r\n            } else {\r\n                console.log(\"no Token in response\", response.data);\r\n            }\r\n\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error(\"No token in login respo\")\r\n        }\r\n    }\r\n\r\n    async register(userData) {\r\n        console.log(\"Sending registration data:\", userData);\r\n        try {\r\n            const response = await axios.post(`${API_URL}/register`, userData);\r\n            console.log(\"Registration response:\", response.data);\r\n            return response.data\r\n        } catch (error) {\r\n            console.error(\"Registration error\", error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    async getCurrentUser() {\r\n        const response = await axios.get(`${API_URL}/me`);\r\n        return response.data;\r\n    }\r\n\r\n    getToken() {\r\n        return localStorage.getItem('token');\r\n    }\r\n\r\n    logout() {\r\n        localStorage.removeItem('token');\r\n    }\r\n}\r\n\r\nexport default new AuthService();"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,GAAG,MAAM,cAAc;AAE9B,MAAMC,OAAO,GAAG,gCAAgC;AAEhD,MAAMC,WAAW,CAAC;EACd,MAAMC,KAAKA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;IAC5B,IAAI;MACAC,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEH,QAAQ,CAAC;MACpD,MAAMI,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAI,CAAC,GAAGR,OAAO,QAAQ,EAAE;QAACG,QAAQ;QAAEC;MAAQ,CAAC,CAAC;MAE3E,IAAIG,QAAQ,CAACE,IAAI,IAAIF,QAAQ,CAACE,IAAI,CAACC,KAAK,EAAE;QACtCL,OAAO,CAACC,GAAG,CAAC,mCAAmC,CAAC;QAChDK,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAC;QAClDL,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC;MAC9B,CAAC,MAAM;QACHD,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEC,QAAQ,CAACE,IAAI,CAAC;MACtD;MAEA,OAAOF,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOI,KAAK,EAAE;MACZR,OAAO,CAACQ,KAAK,CAAC,yBAAyB,CAAC;IAC5C;EACJ;EAEA,MAAMC,QAAQA,CAACC,QAAQ,EAAE;IACrBV,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAES,QAAQ,CAAC;IACnD,IAAI;MACA,MAAMR,QAAQ,GAAG,MAAMT,KAAK,CAACU,IAAI,CAAC,GAAGR,OAAO,WAAW,EAAEe,QAAQ,CAAC;MAClEV,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEC,QAAQ,CAACE,IAAI,CAAC;MACpD,OAAOF,QAAQ,CAACE,IAAI;IACxB,CAAC,CAAC,OAAOI,KAAK,EAAE;MACZR,OAAO,CAACQ,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;MAC1C,MAAMA,KAAK;IACf;EACJ;EAEA,MAAMG,cAAcA,CAAA,EAAG;IACnB,MAAMT,QAAQ,GAAG,MAAMT,KAAK,CAACmB,GAAG,CAAC,GAAGjB,OAAO,KAAK,CAAC;IACjD,OAAOO,QAAQ,CAACE,IAAI;EACxB;EAEAS,QAAQA,CAAA,EAAG;IACP,OAAOP,YAAY,CAACQ,OAAO,CAAC,OAAO,CAAC;EACxC;EAEAC,MAAMA,CAAA,EAAG;IACLT,YAAY,CAACU,UAAU,CAAC,OAAO,CAAC;EACpC;AACJ;AAEA,eAAe,IAAIpB,WAAW,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}