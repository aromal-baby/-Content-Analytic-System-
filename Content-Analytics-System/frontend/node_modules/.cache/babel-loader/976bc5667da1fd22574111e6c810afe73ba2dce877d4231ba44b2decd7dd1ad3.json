{"ast":null,"code":"var _jsxFileName = \"E:\\\\Official\\\\University\\\\Content Analytics v4\\\\Content-Analytics-System\\\\frontend\\\\src\\\\pages\\\\PlatformsPage.jsx\",\n  _s = $RefreshSig$();\nimport { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport React, { useState, useEffect } from 'react';\nimport platformService from '../services/PlatformService';\nimport metricsService from '../services/MetricsService';\nimport PlatformMetricsModal from '../components/Platforms/PlatformMetricsModal';\nimport { Youtube, Instagram, Twitter, Facebook, Twitch, BarChart, Eye, ChevronRight } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PlatformsPage = () => {\n  _s();\n  var _selectedContent$view, _selectedContent$like, _selectedContent$enga;\n  const [platforms, setPlatforms] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedPlatform, setSelectedPlatform] = useState(null);\n  const [selectedContent, setSelectedContent] = useState(null);\n  const [showMetricsModal, setShowMetricsModal] = useState(false);\n  const [showContentMetricsModal, setShowContentMetricsModal] = useState(false);\n  const [contentByPlatform, setContentByPlatform] = useState({});\n  const [groupedPlatforms, setGroupedPlatforms] = useState({});\n  const [contentTimeSeriesData, setContentTimeSeriesData] = useState([]);\n  const [refreshing, setRefreshing] = useState(false);\n\n  // Platform icon mapping\n  const platformIcons = {\n    'YouTube': Youtube,\n    'Instagram': Instagram,\n    'Twitter': Twitter,\n    'Facebook': Facebook,\n    'Twitch': Twitch\n  };\n  useEffect(() => {\n    const fetchPlatforms = async () => {\n      try {\n        const userPlatforms = await platformService.getUserPlatforms();\n        setPlatforms(userPlatforms);\n\n        // Group platforms by platform name\n        const grouped = {};\n        userPlatforms.forEach(platform => {\n          if (!grouped[platform.platformName]) {\n            grouped[platform.platformName] = {\n              ...platform,\n              accounts: [platform]\n            };\n          } else {\n            grouped[platform.platformName].accounts.push(platform);\n          }\n        });\n        setGroupedPlatforms(grouped);\n\n        // Fetch content for each platform\n        const contentMap = {};\n        for (const platform of userPlatforms) {\n          try {\n            const contentList = await metricsService.getPlatformContentList(platform.id);\n\n            // Group content by type\n            const groupedContent = {};\n            contentList.forEach(content => {\n              const type = content.contentType || 'Other';\n              if (!groupedContent[type]) {\n                groupedContent[type] = [];\n              }\n              groupedContent[type].push(content);\n            });\n            contentMap[platform.id] = groupedContent;\n          } catch (error) {\n            console.error(`Failed to fetch content for platform ${platform.id}:`, error);\n            contentMap[platform.id] = {};\n          }\n        }\n        setContentByPlatform(contentMap);\n        setLoading(false);\n      } catch (error) {\n        console.error('Failed to fetch platforms', error);\n        setLoading(false);\n      }\n    };\n    fetchPlatforms();\n  }, []);\n  const handlePlatformClick = platform => {\n    setSelectedPlatform(platform);\n    setShowMetricsModal(true);\n  };\n  const handleContentClick = async content => {\n    setSelectedContent(content);\n    setShowContentMetricsModal(true);\n    try {\n      const timeSeriesData = await metricsService.getContentTimeSeriesData(content.id);\n      setContentTimeSeriesData(timeSeriesData);\n    } catch (error) {\n      console.error(`Failed to fetch time series data for content ${content.id}:`, error);\n      setContentTimeSeriesData([]);\n    }\n  };\n\n  // Update the platform refresh button click handler\n  const handleRefreshMetrics = async platformId => {\n    try {\n      setRefreshing(true);\n\n      // Call the endpoint to refresh metrics\n      const result = await metricsService.refreshPlatformMetrics(platformId);\n\n      // Show result message\n      if (result.success) {\n        // Success notification\n        alert(`Success: ${result.message}`);\n\n        // Refresh data\n        const userPlatforms = await platformService.getUserPlatforms();\n        setPlatforms(userPlatforms);\n\n        // Refresh content list\n        const contentMap = {};\n        for (const platform of userPlatforms) {\n          try {\n            const contentList = await metricsService.getPlatformContentList(platform.id);\n\n            // Group content by type\n            const groupedContent = {};\n            contentList.forEach(content => {\n              const type = content.contentType || 'Other';\n              if (!groupedContent[type]) {\n                groupedContent[type] = [];\n              }\n              groupedContent[type].push(content);\n            });\n            contentMap[platform.id] = groupedContent;\n          } catch (error) {\n            console.error(`Failed to fetch content for platform ${platform.id}:`, error);\n            contentMap[platform.id] = {};\n          }\n        }\n        setContentByPlatform(contentMap);\n      } else {\n        alert(`Error: ${result.message}`);\n      }\n    } catch (error) {\n      console.error(\"Failed to refresh metrics:\", error);\n      alert(\"Failed to update metrics. Please try again.\");\n    } finally {\n      setRefreshing(false);\n    }\n  };\n  const closeMetricsModal = () => {\n    setShowMetricsModal(false);\n    setSelectedPlatform(null);\n  };\n  const closeContentMetricsModal = () => {\n    setShowContentMetricsModal(false);\n    setSelectedContent(null);\n  };\n\n  // Render consolidated platform card\n  const renderConsolidatedPlatformCard = (platformName, platformData) => {\n    const PlatformIcon = platformIcons[platformName] || 'div';\n\n    // Get all content from all accounts of this platform type\n    const allContent = {};\n    platformData.accounts.forEach(platform => {\n      const platformContent = contentByPlatform[platform.id] || {};\n\n      // Merge content by type\n      Object.keys(platformContent).forEach(type => {\n        if (!allContent[type]) {\n          allContent[type] = [];\n        }\n        allContent[type] = [...allContent[type], ...platformContent[type]];\n      });\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-md rounded-lg p-6 flex flex-col mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(PlatformIcon, {\n          size: 48,\n          className: \"text-gray-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-semibold\",\n            children: platformName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: [platformData.accounts.length, \" connected \", platformData.accounts.length > 1 ? 'accounts' : 'account']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-500 mb-3\",\n        children: [\"Connected: \", new Date(platformData.createdAt).toLocaleDateString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2\",\n        children: Object.keys(allContent).length > 0 ? Object.keys(allContent).map(contentType => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"border rounded-md p-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-sm font-medium mb-2\",\n            children: contentType\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"max-h-40 overflow-y-auto pr-1\",\n            children: allContent[contentType].map(content => {\n              var _content$views;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center py-1 border-b border-gray-100 hover:bg-gray-50 cursor-pointer\",\n                onClick: () => handleContentClick(content),\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs text-gray-700 truncate\",\n                  style: {\n                    maxWidth: \"180px\"\n                  },\n                  children: content.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 223,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-xs text-gray-500 flex items-center mr-2 whitespace-nowrap\",\n                    children: [/*#__PURE__*/_jsxDEV(Eye, {\n                      size: 12,\n                      className: \"mr-1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 228,\n                      columnNumber: 53\n                    }, this), ((_content$views = content.views) === null || _content$views === void 0 ? void 0 : _content$views.toLocaleString()) || 0]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(ChevronRight, {\n                    size: 12,\n                    className: \"text-gray-400\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 45\n                }, this)]\n              }, content.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 41\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 33\n          }, this)]\n        }, contentType, true, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 29\n        }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-400 text-center py-2 col-span-2\",\n          children: \"No content available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-auto pt-4 border-t border-gray-200 flex justify-between\",\n        children: [\"// Replace the current onClick handler with:\", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleRefreshMetrics(platformData.accounts[0].id),\n          className: \"bg-green-500 hover:bg-green-600 text-white py-1 px-3 rounded text-sm flex items-center\",\n          disabled: refreshing,\n          children: [refreshing ? /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"animate-spin h-4 w-4 mr-1\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              className: \"opacity-25\",\n              cx: \"12\",\n              cy: \"12\",\n              r: \"10\",\n              stroke: \"currentColor\",\n              strokeWidth: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n              className: \"opacity-75\",\n              fill: \"currentColor\",\n              d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4 mr-1\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 29\n          }, this), refreshing ? 'Refreshing...' : 'Refresh Metrics']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handlePlatformClick(platformData.accounts[0]),\n          className: \"flex items-center space-x-1 text-blue-500 hover:text-blue-700\",\n          children: [/*#__PURE__*/_jsxDEV(BarChart, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"View Platform Metrics\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 17\n      }, this)]\n    }, platformName, true, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }, this);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mx-auto px-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold\",\n        children: \"My Platforms\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 13\n    }, this), Object.keys(groupedPlatforms).length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-12 bg-gray-50 rounded-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-medium text-gray-500 mb-2\",\n        children: \"No platforms added yet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-400\",\n        children: \"Click the + button in the bottom right to add your first platform\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: Object.entries(groupedPlatforms).map(([platformName, platformData]) => renderConsolidatedPlatformCard(platformName, platformData))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 17\n    }, this), selectedPlatform && /*#__PURE__*/_jsxDEV(PlatformMetricsModal, {\n      platform: selectedPlatform,\n      isOpen: showMetricsModal,\n      onClose: closeMetricsModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 17\n    }, this), selectedContent && showContentMetricsModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-xl w-11/12 max-w-4xl max-h-90vh overflow-y-auto p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold\",\n            children: [\"Content Analytics: \", selectedContent.title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: closeContentMetricsModal,\n            className: \"p-2 rounded-full hover:bg-gray-200 transition-colors\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              xmlns: \"http://www.w3.org/2000/svg\",\n              width: \"24\",\n              height: \"24\",\n              viewBox: \"0 0 24 24\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              strokeWidth: \"2\",\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              children: [/*#__PURE__*/_jsxDEV(\"line\", {\n                x1: \"18\",\n                y1: \"6\",\n                x2: \"6\",\n                y2: \"18\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 211\n              }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n                x1: \"6\",\n                y1: \"6\",\n                x2: \"18\",\n                y2: \"18\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 254\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-4 rounded shadow\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Views\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold\",\n              children: ((_selectedContent$view = selectedContent.views) === null || _selectedContent$view === void 0 ? void 0 : _selectedContent$view.toLocaleString()) || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-4 rounded shadow\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Likes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold\",\n              children: ((_selectedContent$like = selectedContent.likes) === null || _selectedContent$like === void 0 ? void 0 : _selectedContent$like.toLocaleString()) || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-50 p-4 rounded shadow\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Engagement Rate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold\",\n              children: [((_selectedContent$enga = selectedContent.engagementRate) === null || _selectedContent$enga === void 0 ? void 0 : _selectedContent$enga.toFixed(1)) || 0, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white border rounded-lg p-4 shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold mb-2\",\n            children: \"Views Over Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: '100%',\n              height: 300\n            },\n            children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n              children: /*#__PURE__*/_jsxDEV(LineChart, {\n                data: contentTimeSeriesData,\n                children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                  strokeDasharray: \"3 3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 349,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                  dataKey: \"date\",\n                  tickFormatter: date => new Date(date).toLocaleDateString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                  labelFormatter: date => new Date(date).toLocaleDateString(),\n                  formatter: value => [value.toLocaleString(), 'Views']\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 355,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Line, {\n                  type: \"monotone\",\n                  dataKey: \"views\",\n                  stroke: \"#8884d8\",\n                  name: \"Views\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 286,\n    columnNumber: 9\n  }, this);\n};\n_s(PlatformsPage, \"MpVteeDuV8t4vUuinB7o26RFQZM=\");\n_c = PlatformsPage;\nexport default PlatformsPage;\nvar _c;\n$RefreshReg$(_c, \"PlatformsPage\");","map":{"version":3,"names":["LineChart","Line","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","React","useState","useEffect","platformService","metricsService","PlatformMetricsModal","Youtube","Instagram","Twitter","Facebook","Twitch","BarChart","Eye","ChevronRight","jsxDEV","_jsxDEV","PlatformsPage","_s","_selectedContent$view","_selectedContent$like","_selectedContent$enga","platforms","setPlatforms","loading","setLoading","selectedPlatform","setSelectedPlatform","selectedContent","setSelectedContent","showMetricsModal","setShowMetricsModal","showContentMetricsModal","setShowContentMetricsModal","contentByPlatform","setContentByPlatform","groupedPlatforms","setGroupedPlatforms","contentTimeSeriesData","setContentTimeSeriesData","refreshing","setRefreshing","platformIcons","fetchPlatforms","userPlatforms","getUserPlatforms","grouped","forEach","platform","platformName","accounts","push","contentMap","contentList","getPlatformContentList","id","groupedContent","content","type","contentType","error","console","handlePlatformClick","handleContentClick","timeSeriesData","getContentTimeSeriesData","handleRefreshMetrics","platformId","result","refreshPlatformMetrics","success","alert","message","closeMetricsModal","closeContentMetricsModal","renderConsolidatedPlatformCard","platformData","PlatformIcon","allContent","platformContent","Object","keys","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","length","Date","createdAt","toLocaleDateString","map","_content$views","onClick","style","maxWidth","title","views","toLocaleString","disabled","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","strokeLinecap","strokeLinejoin","entries","isOpen","onClose","width","height","x1","y1","x2","y2","likes","engagementRate","toFixed","data","strokeDasharray","dataKey","tickFormatter","date","labelFormatter","formatter","value","name","_c","$RefreshReg$"],"sources":["E:/Official/University/Content Analytics v4/Content-Analytics-System/frontend/src/pages/PlatformsPage.jsx"],"sourcesContent":["import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport React, { useState, useEffect } from 'react';\r\nimport platformService from '../services/PlatformService';\r\nimport metricsService from '../services/MetricsService';\r\nimport PlatformMetricsModal from '../components/Platforms/PlatformMetricsModal';\r\nimport {\r\n    Youtube,\r\n    Instagram,\r\n    Twitter,\r\n    Facebook,\r\n    Twitch,\r\n    BarChart,\r\n    Eye,\r\n    ChevronRight\r\n} from 'lucide-react';\r\n\r\nconst PlatformsPage = () => {\r\n    const [platforms, setPlatforms] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [selectedPlatform, setSelectedPlatform] = useState(null);\r\n    const [selectedContent, setSelectedContent] = useState(null);\r\n    const [showMetricsModal, setShowMetricsModal] = useState(false);\r\n    const [showContentMetricsModal, setShowContentMetricsModal] = useState(false);\r\n    const [contentByPlatform, setContentByPlatform] = useState({});\r\n    const [groupedPlatforms, setGroupedPlatforms] = useState({});\r\n    const [contentTimeSeriesData, setContentTimeSeriesData] = useState([]);\r\n    const [refreshing, setRefreshing] = useState(false);\r\n\r\n\r\n    // Platform icon mapping\r\n    const platformIcons = {\r\n        'YouTube': Youtube,\r\n        'Instagram': Instagram,\r\n        'Twitter': Twitter,\r\n        'Facebook': Facebook,\r\n        'Twitch': Twitch\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchPlatforms = async () => {\r\n            try {\r\n                const userPlatforms = await platformService.getUserPlatforms();\r\n                setPlatforms(userPlatforms);\r\n\r\n                // Group platforms by platform name\r\n                const grouped = {};\r\n                userPlatforms.forEach(platform => {\r\n                    if (!grouped[platform.platformName]) {\r\n                        grouped[platform.platformName] = {\r\n                            ...platform,\r\n                            accounts: [platform]\r\n                        };\r\n                    } else {\r\n                        grouped[platform.platformName].accounts.push(platform);\r\n                    }\r\n                });\r\n\r\n                setGroupedPlatforms(grouped);\r\n\r\n                // Fetch content for each platform\r\n                const contentMap = {};\r\n                for (const platform of userPlatforms) {\r\n                    try {\r\n                        const contentList = await metricsService.getPlatformContentList(platform.id);\r\n\r\n                        // Group content by type\r\n                        const groupedContent = {};\r\n                        contentList.forEach(content => {\r\n                            const type = content.contentType || 'Other';\r\n                            if (!groupedContent[type]) {\r\n                                groupedContent[type] = [];\r\n                            }\r\n                            groupedContent[type].push(content);\r\n                        });\r\n\r\n                        contentMap[platform.id] = groupedContent;\r\n                    } catch (error) {\r\n                        console.error(`Failed to fetch content for platform ${platform.id}:`, error);\r\n                        contentMap[platform.id] = {};\r\n                    }\r\n                }\r\n                setContentByPlatform(contentMap);\r\n\r\n                setLoading(false);\r\n            } catch (error) {\r\n                console.error('Failed to fetch platforms', error);\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchPlatforms();\r\n    }, []);\r\n\r\n    const handlePlatformClick = (platform) => {\r\n        setSelectedPlatform(platform);\r\n        setShowMetricsModal(true);\r\n    };\r\n\r\n    const handleContentClick = async (content) => {\r\n        setSelectedContent(content);\r\n        setShowContentMetricsModal(true);\r\n\r\n        try {\r\n            const timeSeriesData = await metricsService.getContentTimeSeriesData(content.id);\r\n            setContentTimeSeriesData(timeSeriesData);\r\n        } catch (error) {\r\n            console.error(`Failed to fetch time series data for content ${content.id}:`, error);\r\n            setContentTimeSeriesData([]);\r\n        }\r\n    };\r\n\r\n    // Update the platform refresh button click handler\r\n    const handleRefreshMetrics = async (platformId) => {\r\n        try {\r\n            setRefreshing(true);\r\n\r\n            // Call the endpoint to refresh metrics\r\n            const result = await metricsService.refreshPlatformMetrics(platformId);\r\n\r\n            // Show result message\r\n            if (result.success) {\r\n                // Success notification\r\n                alert(`Success: ${result.message}`);\r\n\r\n                // Refresh data\r\n                const userPlatforms = await platformService.getUserPlatforms();\r\n                setPlatforms(userPlatforms);\r\n\r\n                // Refresh content list\r\n                const contentMap = {};\r\n                for (const platform of userPlatforms) {\r\n                    try {\r\n                        const contentList = await metricsService.getPlatformContentList(platform.id);\r\n\r\n                        // Group content by type\r\n                        const groupedContent = {};\r\n                        contentList.forEach(content => {\r\n                            const type = content.contentType || 'Other';\r\n                            if (!groupedContent[type]) {\r\n                                groupedContent[type] = [];\r\n                            }\r\n                            groupedContent[type].push(content);\r\n                        });\r\n\r\n                        contentMap[platform.id] = groupedContent;\r\n                    } catch (error) {\r\n                        console.error(`Failed to fetch content for platform ${platform.id}:`, error);\r\n                        contentMap[platform.id] = {};\r\n                    }\r\n                }\r\n                setContentByPlatform(contentMap);\r\n            } else {\r\n                alert(`Error: ${result.message}`);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to refresh metrics:\", error);\r\n            alert(\"Failed to update metrics. Please try again.\");\r\n        } finally {\r\n            setRefreshing(false);\r\n        }\r\n    };\r\n\r\n    const closeMetricsModal = () => {\r\n        setShowMetricsModal(false);\r\n        setSelectedPlatform(null);\r\n    };\r\n\r\n    const closeContentMetricsModal = () => {\r\n        setShowContentMetricsModal(false);\r\n        setSelectedContent(null);\r\n    };\r\n\r\n    // Render consolidated platform card\r\n    const renderConsolidatedPlatformCard = (platformName, platformData) => {\r\n        const PlatformIcon = platformIcons[platformName] || 'div';\r\n\r\n        // Get all content from all accounts of this platform type\r\n        const allContent = {};\r\n        platformData.accounts.forEach(platform => {\r\n            const platformContent = contentByPlatform[platform.id] || {};\r\n\r\n            // Merge content by type\r\n            Object.keys(platformContent).forEach(type => {\r\n                if (!allContent[type]) {\r\n                    allContent[type] = [];\r\n                }\r\n                allContent[type] = [...allContent[type], ...platformContent[type]];\r\n            });\r\n        });\r\n\r\n        return (\r\n            <div\r\n                key={platformName}\r\n                className=\"bg-white shadow-md rounded-lg p-6 flex flex-col mb-6\"\r\n            >\r\n                <div className=\"flex items-center space-x-4 mb-4\">\r\n                    <PlatformIcon size={48} className=\"text-gray-600\" />\r\n                    <div>\r\n                        <h3 className=\"text-xl font-semibold\">{platformName}</h3>\r\n                        <p className=\"text-gray-500\">\r\n                            {platformData.accounts.length} connected {platformData.accounts.length > 1 ? 'accounts' : 'account'}\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"text-sm text-gray-500 mb-3\">\r\n                    Connected: {new Date(platformData.createdAt).toLocaleDateString()}\r\n                </div>\r\n\r\n                {/* Content Types Grid */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2\">\r\n                    {Object.keys(allContent).length > 0 ? (\r\n                        Object.keys(allContent).map(contentType => (\r\n                            <div key={contentType} className=\"border rounded-md p-2\">\r\n                                <h4 className=\"text-sm font-medium mb-2\">{contentType}</h4>\r\n                                <div className=\"max-h-40 overflow-y-auto pr-1\">\r\n                                    {allContent[contentType].map(content => (\r\n                                        <div\r\n                                            key={content.id}\r\n                                            className=\"flex justify-between items-center py-1 border-b border-gray-100 hover:bg-gray-50 cursor-pointer\"\r\n                                            onClick={() => handleContentClick(content)}\r\n                                        >\r\n                                            <span className=\"text-xs text-gray-700 truncate\" style={{maxWidth: \"180px\"}}>\r\n                                                {content.title}\r\n                                            </span>\r\n                                            <div className=\"flex items-center\">\r\n                                                <span className=\"text-xs text-gray-500 flex items-center mr-2 whitespace-nowrap\">\r\n                                                    <Eye size={12} className=\"mr-1\" />\r\n                                                    {content.views?.toLocaleString() || 0}\r\n                                                </span>\r\n                                                <ChevronRight size={12} className=\"text-gray-400\" />\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        ))\r\n                    ) : (\r\n                        <div className=\"text-xs text-gray-400 text-center py-2 col-span-2\">\r\n                            No content available\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"mt-auto pt-4 border-t border-gray-200 flex justify-between\">\r\n                    // Replace the current onClick handler with:\r\n                    <button\r\n                        onClick={() => handleRefreshMetrics(platformData.accounts[0].id)}\r\n                        className=\"bg-green-500 hover:bg-green-600 text-white py-1 px-3 rounded text-sm flex items-center\"\r\n                        disabled={refreshing}\r\n                    >\r\n                        {refreshing ? (\r\n                            <svg className=\"animate-spin h-4 w-4 mr-1\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                            </svg>\r\n                        ) : (\r\n                            <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\r\n                            </svg>\r\n                        )}\r\n                        {refreshing ? 'Refreshing...' : 'Refresh Metrics'}\r\n                    </button>\r\n\r\n                    <button\r\n                        onClick={() => handlePlatformClick(platformData.accounts[0])}\r\n                        className=\"flex items-center space-x-1 text-blue-500 hover:text-blue-700\"\r\n                    >\r\n                        <BarChart size={16} />\r\n                        <span>View Platform Metrics</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"flex justify-center items-center h-64\">\r\n                <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"container mx-auto px-4\">\r\n            <div className=\"flex justify-between items-center mb-6\">\r\n                <h1 className=\"text-3xl font-bold\">My Platforms</h1>\r\n            </div>\r\n\r\n            {Object.keys(groupedPlatforms).length === 0 ? (\r\n                <div className=\"text-center py-12 bg-gray-50 rounded-lg\">\r\n                    <h3 className=\"text-lg font-medium text-gray-500 mb-2\">No platforms added yet</h3>\r\n                    <p className=\"text-gray-400\">\r\n                        Click the + button in the bottom right to add your first platform\r\n                    </p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"space-y-6\">\r\n                    {Object.entries(groupedPlatforms).map(([platformName, platformData]) =>\r\n                        renderConsolidatedPlatformCard(platformName, platformData)\r\n                    )}\r\n                </div>\r\n            )}\r\n\r\n            {/* Platform Metrics Modal */}\r\n            {selectedPlatform && (\r\n                <PlatformMetricsModal\r\n                    platform={selectedPlatform}\r\n                    isOpen={showMetricsModal}\r\n                    onClose={closeMetricsModal}\r\n                />\r\n            )}\r\n\r\n            {/* Content Metrics Modal - You'll need to create this component */}\r\n            {selectedContent && showContentMetricsModal && (\r\n                <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50\">\r\n                    <div className=\"bg-white rounded-lg shadow-xl w-11/12 max-w-4xl max-h-90vh overflow-y-auto p-6\">\r\n                        <div className=\"flex justify-between items-center mb-4\">\r\n                            <h2 className=\"text-2xl font-bold\">Content Analytics: {selectedContent.title}</h2>\r\n                            <button\r\n                                onClick={closeContentMetricsModal}\r\n                                className=\"p-2 rounded-full hover:bg-gray-200 transition-colors\"\r\n                            >\r\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n                            <div className=\"bg-gray-50 p-4 rounded shadow\">\r\n                                <h3 className=\"text-sm font-medium text-gray-500\">Views</h3>\r\n                                <p className=\"text-2xl font-bold\">{selectedContent.views?.toLocaleString() || 0}</p>\r\n                            </div>\r\n                            <div className=\"bg-gray-50 p-4 rounded shadow\">\r\n                                <h3 className=\"text-sm font-medium text-gray-500\">Likes</h3>\r\n                                <p className=\"text-2xl font-bold\">{selectedContent.likes?.toLocaleString() || 0}</p>\r\n                            </div>\r\n                            <div className=\"bg-gray-50 p-4 rounded shadow\">\r\n                                <h3 className=\"text-sm font-medium text-gray-500\">Engagement Rate</h3>\r\n                                <p className=\"text-2xl font-bold\">{selectedContent.engagementRate?.toFixed(1) || 0}%</p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"bg-white border rounded-lg p-4 shadow-sm\">\r\n                            <h3 className=\"text-lg font-semibold mb-2\">Views Over Time</h3>\r\n                            <div style={{ width: '100%', height: 300 }}>\r\n                                <ResponsiveContainer>\r\n                                    <LineChart data={contentTimeSeriesData}>\r\n                                        <CartesianGrid strokeDasharray=\"3 3\" />\r\n                                        <XAxis\r\n                                            dataKey=\"date\"\r\n                                            tickFormatter={(date) => new Date(date).toLocaleDateString()}\r\n                                        />\r\n                                        <YAxis />\r\n                                        <Tooltip\r\n                                            labelFormatter={(date) => new Date(date).toLocaleDateString()}\r\n                                            formatter={(value) => [value.toLocaleString(), 'Views']}\r\n                                        />\r\n                                        <Line\r\n                                            type=\"monotone\"\r\n                                            dataKey=\"views\"\r\n                                            stroke=\"#8884d8\"\r\n                                            name=\"Views\"\r\n                                        />\r\n                                    </LineChart>\r\n                                </ResponsiveContainer>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PlatformsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}