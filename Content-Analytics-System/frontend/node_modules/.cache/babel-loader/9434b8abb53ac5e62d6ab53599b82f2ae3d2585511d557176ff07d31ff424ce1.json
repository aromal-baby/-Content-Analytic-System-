{"ast":null,"code":"var _jsxFileName = \"E:\\\\Official\\\\University\\\\Content Analytics v4\\\\Content-Analytics-System\\\\frontend\\\\src\\\\components\\\\Platforms\\\\AddPlatformModal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport platformService from '../../services/PlatformService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AddPlatformModal = ({\n  isOpen,\n  onClose\n}) => {\n  _s();\n  const [contentLink, setContentLink] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [connectedPlatforms, setConnectedPlatforms] = useState([]);\n\n  // Fetch already connected platforms when modal opens\n  useEffect(() => {\n    if (isOpen) {\n      fetchConnectedPlatforms();\n    }\n  }, [isOpen]);\n  const fetchConnectedPlatforms = async () => {\n    try {\n      const platforms = await platformService.getUserPlatforms();\n      setConnectedPlatforms(platforms);\n    } catch (error) {\n      console.error(\"Error fetching platforms:\", error);\n    }\n  };\n\n  // Function to detect platform and content info from URL\n  const detectPlatformInfo = url => {\n    // Platform detection patterns\n    if (url.includes('youtube.com') || url.includes('youtu.be')) {\n      let videoId = '';\n      if (url.includes('watch?v=')) {\n        videoId = url.split('watch?v=')[1].split('&')[0];\n      } else if (url.includes('youtu.be/')) {\n        videoId = url.split('youtu.be/')[1].split('?')[0];\n      } else if (url.includes('shorts/')) {\n        videoId = url.split('shorts/')[1].split('?')[0];\n      }\n      return {\n        platformName: 'YouTube',\n        contentId: videoId,\n        contentType: url.includes('shorts/') ? 'SHORT' : 'VIDEO'\n      };\n    } else if (url.includes('instagram.com')) {\n      let contentId = '';\n      let contentType = 'POST';\n      if (url.includes('/p/')) {\n        contentId = url.split('/p/')[1].split('/')[0];\n      } else if (url.includes('/reel/')) {\n        contentId = url.split('/reel/')[1].split('/')[0];\n        contentType = 'REEL';\n      } else if (url.includes('/stories/')) {\n        contentId = url.split('/stories/')[1].split('/')[1];\n        contentType = 'STORY';\n      }\n      return {\n        platformName: 'Instagram',\n        contentId: contentId,\n        contentType: contentType\n      };\n    } else if (url.includes('tiktok.com')) {\n      let contentId = '';\n      if (url.includes('/video/')) {\n        contentId = url.split('/video/')[1].split('?')[0];\n      }\n      return {\n        platformName: 'TikTok',\n        contentId: contentId,\n        contentType: 'VIDEO'\n      };\n    } else if (url.includes('twitter.com') || url.includes('x.com')) {\n      let contentId = '';\n      if (url.includes('/status/')) {\n        contentId = url.split('/status/')[1].split('?')[0];\n      }\n      return {\n        platformName: 'Twitter',\n        contentId: contentId,\n        contentType: 'TWEET'\n      };\n    }\n    return {\n      platformName: 'Other',\n      contentId: '',\n      contentType: 'UNKNOWN'\n    };\n  };\n\n  // Handle adding content and platform if needed\n  const handleAddContent = async () => {\n    if (!contentLink.trim()) {\n      setError('Please enter a valid content link');\n      return;\n    }\n    setLoading(true);\n    try {\n      // Detect platform and content info\n      console.log(\"Processing link:\", contentLink);\n      const contentInfo = detectPlatformInfo(contentLink);\n      console.log(\"Detected:\", contentInfo);\n      if (contentInfo.contentId === '') {\n        setError('Could not detect content ID from the provided link');\n        setLoading(false);\n        return;\n      }\n\n      // Check if platform is already connected\n      const platformExists = Array.isArray(connectedPlatforms) ? connectedPlatforms.some(platform => platform.platformName === contentInfo.platformName) : false;\n      let platformId;\n      console.log(\"Sending to API:\", {\n        platformId,\n        contentId: contentInfo.contentId,\n        contentType: contentInfo.contentType\n      });\n\n      // If platform doesn't exist, create it first\n      if (!platformExists) {\n        try {\n          // First create the platform\n          const createResponse = await platformService.addPlatform({\n            platformName: contentInfo.platformName,\n            url: contentLink\n          });\n          console.log(\"Platform creation response:\", createResponse);\n\n          // Add a small delay to ensure the platform is fully saved\n          await new Promise(resolve => setTimeout(resolve, 500));\n\n          // Then fetch all platforms\n          const response = await platformService.getUserPlatforms();\n          console.log(\"All platforms response:\", response);\n          let allPlatforms = Array.isArray(response) ? response : response && Array.isArray(response.data) ? response.data : [];\n          console.log(\"Looking for platform with name:\", contentInfo.platformName);\n          console.log(\"Available platforms:\", allPlatforms.map(p => ({\n            id: p.id,\n            name: p.platformName,\n            matches: p.platformName === contentInfo.platformName\n          })));\n\n          // Try a case-insensitive search\n          const createdPlatform = allPlatforms.find(p => p.platformName && p.platformName.toLowerCase() === contentInfo.platformName.toLowerCase());\n          if (!createdPlatform) {\n            console.error(\"Platform not found among available platforms\");\n            // As a fallback, just use the first platform if any exist\n            if (allPlatforms.length > 0) {\n              platformId = allPlatforms[0].id;\n              console.log(\"Using first available platform as fallback:\", platformId);\n            } else {\n              throw new Error(\"No platforms available\");\n            }\n          } else {\n            platformId = createdPlatform.id;\n            console.log(\"Found matching platform:\", platformId);\n          }\n        } catch (error) {\n          console.error(\"Error in platform creation flow:\", error);\n          setError(\"Failed to create platform\");\n          setLoading(false);\n          return;\n        }\n      } else {\n        // Find existing platform ID\n        const platform = connectedPlatforms.find(p => p.platformName === contentInfo.platformName);\n        if (!platform || !platform.id) {\n          console.error(\"Could not find existing platform ID\");\n          setError(\"Error: Could not find platform ID\");\n          setLoading(false);\n          return;\n        }\n        platformId = platform.id;\n        console.log(\"Using existing platform ID:\", platformId);\n      }\n\n      // Now check that platformId is valid before proceeding\n      if (!platformId) {\n        setError(\"Error: Missing platform ID\");\n        setLoading(false);\n        return;\n      }\n\n      // Now add the content to the platform\n      await platformService.addContent({\n        platformId: platformId,\n        platformContentId: contentInfo.contentId,\n        contentType: contentInfo.contentType,\n        url: contentLink\n      });\n\n      // Reset and close modal\n      setContentLink('');\n      setError('');\n      onClose();\n    } catch (err) {\n      setError('Failed to process content. Please try again.');\n      console.error(\"Detailed error:\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center\",\n    style: {\n      zIndex: 9999\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-lg shadow-xl w-96\",\n      style: {\n        zIndex: 10000\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold mb-4\",\n        children: \"Add Content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: contentLink,\n        onChange: e => setContentLink(e.target.value),\n        placeholder: \"Paste video/reel/post link here\",\n        className: \"w-full p-2 border rounded mb-4\",\n        style: {\n          color: 'black'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 mb-4\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"px-4 py-2 bg-gray-200 rounded\",\n          disabled: loading,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleAddContent,\n          className: \"px-4 py-2 bg-blue-500 text-white rounded\",\n          disabled: loading,\n          children: loading ? 'Processing...' : 'Add Content'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 231,\n    columnNumber: 9\n  }, this);\n};\n_s(AddPlatformModal, \"g7Z+FAFkJcFePgX63qUUdQBfpO8=\");\n_c = AddPlatformModal;\nexport default AddPlatformModal;\nvar _c;\n$RefreshReg$(_c, \"AddPlatformModal\");","map":{"version":3,"names":["React","useState","useEffect","platformService","jsxDEV","_jsxDEV","AddPlatformModal","isOpen","onClose","_s","contentLink","setContentLink","error","setError","loading","setLoading","connectedPlatforms","setConnectedPlatforms","fetchConnectedPlatforms","platforms","getUserPlatforms","console","detectPlatformInfo","url","includes","videoId","split","platformName","contentId","contentType","handleAddContent","trim","log","contentInfo","platformExists","Array","isArray","some","platform","platformId","createResponse","addPlatform","Promise","resolve","setTimeout","response","allPlatforms","data","map","p","id","name","matches","createdPlatform","find","toLowerCase","length","Error","addContent","platformContentId","err","className","style","zIndex","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","color","onClick","disabled","_c","$RefreshReg$"],"sources":["E:/Official/University/Content Analytics v4/Content-Analytics-System/frontend/src/components/Platforms/AddPlatformModal.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport platformService from '../../services/PlatformService';\r\n\r\nconst AddPlatformModal = ({ isOpen, onClose }) => {\r\n    const [contentLink, setContentLink] = useState('');\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [connectedPlatforms, setConnectedPlatforms] = useState([]);\r\n\r\n    // Fetch already connected platforms when modal opens\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            fetchConnectedPlatforms();\r\n        }\r\n    }, [isOpen]);\r\n\r\n    const fetchConnectedPlatforms = async () => {\r\n        try {\r\n            const platforms = await platformService.getUserPlatforms();\r\n            setConnectedPlatforms(platforms);\r\n        } catch (error) {\r\n            console.error(\"Error fetching platforms:\", error);\r\n        }\r\n    };\r\n\r\n    // Function to detect platform and content info from URL\r\n    const detectPlatformInfo = (url) => {\r\n        // Platform detection patterns\r\n        if (url.includes('youtube.com') || url.includes('youtu.be')) {\r\n            let videoId = '';\r\n\r\n            if (url.includes('watch?v=')) {\r\n                videoId = url.split('watch?v=')[1].split('&')[0];\r\n            } else if (url.includes('youtu.be/')) {\r\n                videoId = url.split('youtu.be/')[1].split('?')[0];\r\n            } else if (url.includes('shorts/')) {\r\n                videoId = url.split('shorts/')[1].split('?')[0];\r\n            }\r\n\r\n            return {\r\n                platformName: 'YouTube',\r\n                contentId: videoId,\r\n                contentType: url.includes('shorts/') ? 'SHORT' : 'VIDEO'\r\n            };\r\n        }\r\n        else if (url.includes('instagram.com')) {\r\n            let contentId = '';\r\n            let contentType = 'POST';\r\n\r\n            if (url.includes('/p/')) {\r\n                contentId = url.split('/p/')[1].split('/')[0];\r\n            } else if (url.includes('/reel/')) {\r\n                contentId = url.split('/reel/')[1].split('/')[0];\r\n                contentType = 'REEL';\r\n            } else if (url.includes('/stories/')) {\r\n                contentId = url.split('/stories/')[1].split('/')[1];\r\n                contentType = 'STORY';\r\n            }\r\n\r\n            return {\r\n                platformName: 'Instagram',\r\n                contentId: contentId,\r\n                contentType: contentType\r\n            };\r\n        }\r\n        else if (url.includes('tiktok.com')) {\r\n            let contentId = '';\r\n\r\n            if (url.includes('/video/')) {\r\n                contentId = url.split('/video/')[1].split('?')[0];\r\n            }\r\n\r\n            return {\r\n                platformName: 'TikTok',\r\n                contentId: contentId,\r\n                contentType: 'VIDEO'\r\n            };\r\n        }\r\n        else if (url.includes('twitter.com') || url.includes('x.com')) {\r\n            let contentId = '';\r\n\r\n            if (url.includes('/status/')) {\r\n                contentId = url.split('/status/')[1].split('?')[0];\r\n            }\r\n\r\n            return {\r\n                platformName: 'Twitter',\r\n                contentId: contentId,\r\n                contentType: 'TWEET'\r\n            };\r\n        }\r\n\r\n        return {\r\n            platformName: 'Other',\r\n            contentId: '',\r\n            contentType: 'UNKNOWN'\r\n        };\r\n    };\r\n\r\n    // Handle adding content and platform if needed\r\n    const handleAddContent = async () => {\r\n        if (!contentLink.trim()) {\r\n            setError('Please enter a valid content link');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        try {\r\n            // Detect platform and content info\r\n            console.log(\"Processing link:\", contentLink);\r\n            const contentInfo = detectPlatformInfo(contentLink);\r\n\r\n            console.log(\"Detected:\", contentInfo);\r\n            if (contentInfo.contentId === '') {\r\n                setError('Could not detect content ID from the provided link');\r\n                setLoading(false);\r\n                return;\r\n            }\r\n\r\n            // Check if platform is already connected\r\n            const platformExists = Array.isArray(connectedPlatforms)\r\n                ? connectedPlatforms.some(platform => platform.platformName === contentInfo.platformName)\r\n                : false;\r\n\r\n            let platformId;\r\n            console.log(\"Sending to API:\", {\r\n                platformId,\r\n                contentId: contentInfo.contentId,\r\n                contentType: contentInfo.contentType\r\n            });\r\n\r\n            // If platform doesn't exist, create it first\r\n            if (!platformExists) {\r\n                try {\r\n                    // First create the platform\r\n                    const createResponse = await platformService.addPlatform({\r\n                        platformName: contentInfo.platformName,\r\n                        url: contentLink\r\n                    });\r\n                    console.log(\"Platform creation response:\", createResponse);\r\n\r\n                    // Add a small delay to ensure the platform is fully saved\r\n                    await new Promise(resolve => setTimeout(resolve, 500));\r\n\r\n                    // Then fetch all platforms\r\n                    const response = await platformService.getUserPlatforms();\r\n                    console.log(\"All platforms response:\", response);\r\n\r\n                    let allPlatforms = Array.isArray(response) ? response :\r\n                        (response && Array.isArray(response.data)) ? response.data : [];\r\n\r\n                    console.log(\"Looking for platform with name:\", contentInfo.platformName);\r\n                    console.log(\"Available platforms:\", allPlatforms.map(p => ({\r\n                        id: p.id,\r\n                        name: p.platformName,\r\n                        matches: p.platformName === contentInfo.platformName\r\n                    })));\r\n\r\n                    // Try a case-insensitive search\r\n                    const createdPlatform = allPlatforms.find(p =>\r\n                        p.platformName &&\r\n                        p.platformName.toLowerCase() === contentInfo.platformName.toLowerCase()\r\n                    );\r\n\r\n                    if (!createdPlatform) {\r\n                        console.error(\"Platform not found among available platforms\");\r\n                        // As a fallback, just use the first platform if any exist\r\n                        if (allPlatforms.length > 0) {\r\n                            platformId = allPlatforms[0].id;\r\n                            console.log(\"Using first available platform as fallback:\", platformId);\r\n                        } else {\r\n                            throw new Error(\"No platforms available\");\r\n                        }\r\n                    } else {\r\n                        platformId = createdPlatform.id;\r\n                        console.log(\"Found matching platform:\", platformId);\r\n                    }\r\n                } catch (error) {\r\n                    console.error(\"Error in platform creation flow:\", error);\r\n                    setError(\"Failed to create platform\");\r\n                    setLoading(false);\r\n                    return;\r\n                }\r\n            } else {\r\n                // Find existing platform ID\r\n                const platform = connectedPlatforms.find(\r\n                    p => p.platformName === contentInfo.platformName\r\n                );\r\n\r\n                if (!platform || !platform.id) {\r\n                    console.error(\"Could not find existing platform ID\");\r\n                    setError(\"Error: Could not find platform ID\");\r\n                    setLoading(false);\r\n                    return;\r\n                }\r\n\r\n                platformId = platform.id;\r\n                console.log(\"Using existing platform ID:\", platformId);\r\n            }\r\n\r\n            // Now check that platformId is valid before proceeding\r\n            if (!platformId) {\r\n                setError(\"Error: Missing platform ID\");\r\n                setLoading(false);\r\n                return;\r\n            }\r\n\r\n            // Now add the content to the platform\r\n            await platformService.addContent({\r\n                platformId: platformId,\r\n                platformContentId: contentInfo.contentId,\r\n                contentType: contentInfo.contentType,\r\n                url: contentLink\r\n            });\r\n\r\n            // Reset and close modal\r\n            setContentLink('');\r\n            setError('');\r\n            onClose();\r\n        } catch (err) {\r\n            setError('Failed to process content. Please try again.');\r\n            console.error(\"Detailed error:\", err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center\" style={{ zIndex: 9999 }}>\r\n            <div className=\"bg-white p-6 rounded-lg shadow-xl w-96\" style={{ zIndex: 10000 }}>\r\n                <h2 className=\"text-xl font-bold mb-4\">Add Content</h2>\r\n\r\n                <input\r\n                    type=\"text\"\r\n                    value={contentLink}\r\n                    onChange={(e) => setContentLink(e.target.value)}\r\n                    placeholder=\"Paste video/reel/post link here\"\r\n                    className=\"w-full p-2 border rounded mb-4\"\r\n                    style={{ color: 'black' }}\r\n                />\r\n\r\n                {error && (\r\n                    <p className=\"text-red-500 mb-4\">{error}</p>\r\n                )}\r\n\r\n                <div className=\"flex justify-end space-x-2\">\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"px-4 py-2 bg-gray-200 rounded\"\r\n                        disabled={loading}\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                    <button\r\n                        onClick={handleAddContent}\r\n                        className=\"px-4 py-2 bg-blue-500 text-white rounded\"\r\n                        disabled={loading}\r\n                    >\r\n                        {loading ? 'Processing...' : 'Add Content'}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AddPlatformModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}